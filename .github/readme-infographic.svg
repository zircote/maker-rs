<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 420" width="800" height="420">
  <defs>
    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f8fafc;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e2e8f0;stop-opacity:1" />
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="800" height="420" rx="12" fill="url(#bg)" />
  <rect width="800" height="420" rx="12" fill="none" stroke="#cbd5e1" stroke-width="2" />

  <!-- Title -->
  <text x="400" y="40" font-family="sans-serif" font-size="24" font-weight="bold" fill="#0f172a" text-anchor="middle">MAKER Framework Workflow</text>
  <text x="400" y="62" font-family="sans-serif" font-size="13" fill="#64748b" text-anchor="middle">Zero-Error Long-Horizon LLM Execution</text>

  <!-- Step 1: Decompose -->
  <g transform="translate(40, 100)">
    <rect width="140" height="110" rx="8" fill="#dbeafe" stroke="#3b82f6" stroke-width="2" />
    <text x="70" y="25" font-family="sans-serif" font-size="14" font-weight="bold" fill="#1e40af" text-anchor="middle">1. Decompose</text>
    <text x="70" y="50" font-family="sans-serif" font-size="11" fill="#1e293b" text-anchor="middle">Maximal Agentic</text>
    <text x="70" y="65" font-family="sans-serif" font-size="11" fill="#1e293b" text-anchor="middle">Decomposition</text>
    <text x="70" y="85" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">m=1 per subtask</text>
    <text x="70" y="100" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Clean context</text>
  </g>

  <!-- Arrow 1→2 -->
  <path d="M 186 155 L 218 155" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowhead)" />
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="10" refY="5" orient="auto">
      <polygon points="0,0 10,5 0,10" fill="#94a3b8" />
    </marker>
  </defs>

  <!-- Step 2: Sample -->
  <g transform="translate(222, 100)">
    <rect width="140" height="110" rx="8" fill="#dcfce7" stroke="#10b981" stroke-width="2" />
    <text x="70" y="25" font-family="sans-serif" font-size="14" font-weight="bold" fill="#065f46" text-anchor="middle">2. Sample</text>
    <text x="70" y="50" font-family="sans-serif" font-size="11" fill="#1e293b" text-anchor="middle">Parallel LLM Calls</text>
    <text x="70" y="65" font-family="sans-serif" font-size="11" fill="#1e293b" text-anchor="middle">(k+ candidates)</text>
    <text x="70" y="85" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">T=0 first, T=0.1 rest</text>
    <text x="70" y="100" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Diversity via temp</text>
  </g>

  <!-- Arrow 2→3 -->
  <path d="M 368 155 L 400 155" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowhead)" />

  <!-- Step 3: Vote -->
  <g transform="translate(404, 100)">
    <rect width="140" height="110" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" />
    <text x="70" y="25" font-family="sans-serif" font-size="14" font-weight="bold" fill="#92400e" text-anchor="middle">3. Vote</text>
    <text x="70" y="50" font-family="sans-serif" font-size="11" fill="#1e293b" text-anchor="middle">First-to-Ahead-by-K</text>
    <text x="70" y="65" font-family="sans-serif" font-size="11" fill="#1e293b" text-anchor="middle">SPRT Optimal</text>
    <text x="70" y="85" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">k-margin leader wins</text>
    <text x="70" y="100" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Θ(s ln s) cost</text>
  </g>

  <!-- Arrow 3→4 -->
  <path d="M 550 155 L 582 155" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowhead)" />

  <!-- Step 4: Validate -->
  <g transform="translate(586, 100)">
    <rect width="140" height="110" rx="8" fill="#fecaca" stroke="#ef4444" stroke-width="2" />
    <text x="70" y="25" font-family="sans-serif" font-size="14" font-weight="bold" fill="#991b1b" text-anchor="middle">4. Validate</text>
    <text x="70" y="50" font-family="sans-serif" font-size="11" fill="#1e293b" text-anchor="middle">Red-Flag Parser</text>
    <text x="70" y="65" font-family="sans-serif" font-size="11" fill="#1e293b" text-anchor="middle">Discard over Repair</text>
    <text x="70" y="85" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Format validation</text>
    <text x="70" y="100" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Error decorrelation</text>
  </g>

  <!-- Arrow 4→5 (down) -->
  <path d="M 656 216 L 656 250" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowhead)" />

  <!-- Step 5: Transfer -->
  <g transform="translate(586, 254)">
    <rect width="140" height="110" rx="8" fill="#e9d5ff" stroke="#8b5cf6" stroke-width="2" />
    <text x="70" y="25" font-family="sans-serif" font-size="14" font-weight="bold" fill="#5b21b6" text-anchor="middle">5. Transfer</text>
    <text x="70" y="50" font-family="sans-serif" font-size="11" fill="#1e293b" text-anchor="middle">State Transfer</text>
    <text x="70" y="65" font-family="sans-serif" font-size="11" fill="#1e293b" text-anchor="middle">next_state → system</text>
    <text x="70" y="85" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Not model interpret</text>
    <text x="70" y="100" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Prevents drift</text>
  </g>

  <!-- Arrow 5→1 (back to start) -->
  <path d="M 586 309 L 40 309 L 40 155 L 34 155" stroke="#94a3b8" stroke-width="2" stroke-dasharray="4,4" fill="none" marker-end="url(#arrowhead)" />
  <text x="300" y="327" font-family="sans-serif" font-size="11" fill="#64748b" text-anchor="middle">Repeat for next step (s times)</text>

  <!-- Key Metrics Box -->
  <g transform="translate(40, 254)">
    <rect width="220" height="110" rx="8" fill="#ffffff" stroke="#cbd5e1" stroke-width="1.5" />
    <text x="110" y="22" font-family="sans-serif" font-size="13" font-weight="bold" fill="#0f172a" text-anchor="middle">Key Metrics</text>

    <text x="15" y="45" font-family="sans-serif" font-size="11" fill="#1e293b">Success Rate:</text>
    <text x="205" y="45" font-family="sans-serif" font-size="11" font-weight="bold" fill="#10b981" text-anchor="end">95%+</text>

    <text x="15" y="62" font-family="sans-serif" font-size="11" fill="#1e293b">Task Length:</text>
    <text x="205" y="62" font-family="sans-serif" font-size="11" font-weight="bold" fill="#3b82f6" text-anchor="end">1,023 steps</text>

    <text x="15" y="79" font-family="sans-serif" font-size="11" fill="#1e293b">Cost Scaling:</text>
    <text x="205" y="79" font-family="sans-serif" font-size="11" font-weight="bold" fill="#f59e0b" text-anchor="end">Θ(s ln s)</text>

    <text x="15" y="96" font-family="sans-serif" font-size="11" fill="#1e293b">API Cost Savings:</text>
    <text x="205" y="96" font-family="sans-serif" font-size="11" font-weight="bold" fill="#10b981" text-anchor="end">60-80%</text>
  </g>

  <!-- MCP Integration Box -->
  <g transform="translate(284, 254)">
    <rect width="278" height="110" rx="8" fill="#ffffff" stroke="#cbd5e1" stroke-width="1.5" />
    <text x="139" y="22" font-family="sans-serif" font-size="13" font-weight="bold" fill="#0f172a" text-anchor="middle">MCP Integration</text>

    <text x="15" y="45" font-family="sans-serif" font-size="11" fill="#1e293b">Tools:</text>
    <text x="263" y="45" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="end">maker/vote, maker/validate</text>

    <text x="15" y="62" font-family="sans-serif" font-size="11" fill="#1e293b"></text>
    <text x="263" y="62" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="end">maker/calibrate, maker/configure</text>

    <text x="15" y="79" font-family="sans-serif" font-size="11" fill="#1e293b">Providers:</text>
    <text x="263" y="79" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="end">Ollama, OpenAI, Anthropic</text>

    <text x="15" y="96" font-family="sans-serif" font-size="11" fill="#1e293b">Integration:</text>
    <text x="263" y="96" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="end">Claude Code, MCP Clients</text>
  </g>

  <!-- Footer -->
  <text x="400" y="405" font-family="sans-serif" font-size="10" fill="#94a3b8" text-anchor="middle">MAKER: Maximal Agentic decomposition, first-to-ahead-by-K Error correction, Red-flagging</text>
</svg>
